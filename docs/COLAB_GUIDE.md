# ุงุฌุฑุง ุฑู Google Colab

ุงู ุฑุงูููุง ุจุฑุง ุงุฌุฑุง ูพุฑูฺู SR-FedOpt ุฑู Google Colab ุงุณุช.

## ฺฏุงูโูุง ุงุฌุฑุง

### ฑ. ุขูพููุฏ ูพุฑูฺู ุจู Google Drive

1. ฺฉู ูพูุดู `sr-fedopt` ุฑุง ุจู Google Drive ุฎูุฏ ุขูพููุฏ ฺฉูุฏ
2. ูโุชูุงูุฏ ุงุฒ Desktop app ุง ุฑุงุจุท ูุจ Drive ุงุณุชูุงุฏู ฺฉูุฏ
3. ูุณุฑ ูพุดููุงุฏ: `MyDrive/sr-fedopt/`

### ฒ. ุจุงุฒ ฺฉุฑุฏู ููุชโุจูฺฉ Colab

**ุฑูุด ุงูู) ูุณุชูู ุงุฒ Drive:**
1. ุจู Google Drive ุจุฑูุฏ
2. ูุงู `run_on_colab.ipynb` ุฑุง ูพุฏุง ฺฉูุฏ
3. ฺฉูฺฉ ุฑุงุณุช โ Open with โ Google Colaboratory

**ุฑูุด ุจ) ุขูพููุฏ ุฏุณุช:**
1. ุจู [Google Colab](https://colab.research.google.com) ุจุฑูุฏ
2. File โ Upload notebook
3. ูุงู `run_on_colab.ipynb` ุฑุง ุขูพููุฏ ฺฉูุฏ

### ณ. ูุนุงูโุณุงุฒ GPU

**โ๏ธ ููู:** ุญุชูุงู GPU ุฑุง ูุนุงู ฺฉูุฏ:
- Runtime โ Change runtime type
- Hardware accelerator: **GPU** (T4 ุง ุจูุชุฑ)
- Save

### ด. ุชูุธู ูุณุฑ ูพุฑูฺู

ุฏุฑ ุณููู ุฏูู ููุชโุจูฺฉุ ูุณุฑ ุฑุง ุชุบุฑ ุฏูุฏ:

```python
# ูุณุฑ ูพุฑูฺู ุฏุฑ Google Drive - ุงู ุฑุง ุชุบุฑ ุฏูุฏ!
PROJECT_PATH = '/content/drive/MyDrive/sr-fedopt'
```

### ต. ุงุฌุฑุง ุณูููโูุง

ุณูููโูุง ุฑุง **ุจู ุชุฑุชุจ** ุงุฌุฑุง ฺฉูุฏ (Shift+Enter):

1. โ Mount Drive
2. โ ุชูุธู ูุณุฑ
3. โ ูุตุจ ูุงุจุณุชฺฏโูุง
4. โ ุจุฑุฑุณ GPU
5. โ ุงุฌุฑุง ุขุฒูุงุดโูุง

## ุงุณุชุฑุงุชฺโูุง ุงุฌุฑุง

### ุงูู) ุชุณุช ุณุฑุน (ต ุฏููู)
ุจุฑุง ุจุฑุฑุณ ุงููู ฺฉู ูููโฺุฒ ฺฉุงุฑ ูโฺฉูุฏ:
```python
!python federated_learning.py --schedule test
```

### ุจ) ุงุฌุฑุง ฺฉุงูู (ถ-ธ ุณุงุนุช)
ุงุฌุฑุง ููู ฑธฐ ุขุฒูุงุด:
```python
!python federated_learning.py --schedule main
```

### ุฌ) ุงุฌุฑุง ุชุฏุฑุฌ (ูพุดููุงุฏ โญ)
ุจุฑุง ุฌููฺฏุฑ ุงุฒ timeoutุ ุขุฒูุงุดโูุง ุฑุง ุฏุฑ batchโูุง ฺฉูฺฺฉ ุงุฌุฑุง ฺฉูุฏ:

```python
# Session 1 (ฒ ุณุงุนุช)
!python federated_learning.py --schedule main --start 0 --end 30

# Session 2 (ฒ ุณุงุนุช)
!python federated_learning.py --schedule main --start 30 --end 60

# Session 3 (ฒ ุณุงุนุช)
!python federated_learning.py --schedule main --start 60 --end 90

# ...ู ุงุฏุงูู
```

**ูุฒุช:** ุงฺฏุฑ Colab ูุทุน ุดุฏุ ุงุฒ ุฌุง ฺฉู ุฑุณุฏูโุงุฏ ุงุฏุงูู ูโุฏูุฏ!

## ูุงูุชูุฑูฺฏ ุงุฌุฑุง

### ุจุฑุฑุณ ูพุดุฑูุช:
```python
# ุชุนุฏุงุฏ ุขุฒูุงุดโูุง ุชฺฉููโุดุฏู
!find results/main -name '*.npz' | wc -l
```

### ูุดุงูุฏู ูุงฺฏโูุง:
```python
# ุขุฎุฑู ูุชุงุฌ
!tail -20 results/main/mnist/sigma0p0/fedavg/run42/*.npz
```

## ูฺฉุงุช ููู โ๏ธ

### ฑ. ูุญุฏูุฏุช ุฒูุงู Colab
- **ุฑุงฺฏุงู:** ุญุฏูุฏ ฑฒ ุณุงุนุช session
- **Colab Pro:** ฒด ุณุงุนุช
- **ุฑุงู ุญู:** ุงุฌุฑุง ุชุฏุฑุฌ ุจุง `--start` ู `--end`

### ฒ. ูุทุน ุดุฏู session
ุงฺฏุฑ Colab ูุทุน ุดุฏ:
1. ุฏูุจุงุฑู Mount ฺฉูุฏ
2. ุจู ูพูุดู ูพุฑูฺู ุจุฑูุฏ
3. ุงุฒ `--start X` ุจุฑุง ุงุฏุงูู ุงุณุชูุงุฏู ฺฉูุฏ

### ณ. ูุถุง ุฏุณฺฉ
- ูุชุงุฌ ุฏุฑ Drive ุดูุง ุฐุฎุฑู ูโุดููุฏ
- ฑธฐ ุขุฒูุงุด โ ฒฐฐ-ณฐฐ MB

### ด. ูุดฺฉูุงุช ุฑุงุฌ

**ุฎุทุง "CUDA out of memory":**
```python
# batch_size ุฑุง ฺฉุงูุด ุฏูุฏ
"batch_size": [1]  # ูุจูุงู ุชูุธู ุดุฏู
```

**ุฎุทุง "Module not found":**
```python
# ุฏูุจุงุฑู ูุตุจ ฺฉูุฏ
!pip install -r requirements.txt
```

**ุฎุทุง ูุณุฑ:**
```python
# ูุณุฑ ุฑุง ฺฺฉ ฺฉูุฏ
import os
print(os.getcwd())
print(os.listdir('.'))
```

## ุชููุฏ ูููุฏุงุฑูุง

ุจุนุฏ ุงุฒ ุงุชูุงู ุขุฒูุงุดโูุง:

```python
# ุชููุฏ ููู ูููุฏุงุฑูุง
!python tools/visualize_results.py

# ููุงุด ุฏุฑ ููุชโุจูฺฉ
from IPython.display import Image
Image(filename='results/plots/mnist_sigma0p0_all_methods_combined.png')
```

## ุฏุงูููุฏ ูุชุงุฌ

### ุฑูุด ฑ: ุฏุงูููุฏ ูุณุชูู ุงุฒ Colab
```python
!zip -r results.zip results/
from google.colab import files
files.download('results.zip')
```

### ุฑูุด ฒ: ุงุฒ Drive (ูพุดููุงุฏ)
ูุชุงุฌ ุงุฒ ูุจู ุฏุฑ Drive ุดูุง ูุณุชูุฏ! ููุท:
1. ุจู Drive ุจุฑูุฏ
2. ูพูุดู `sr-fedopt/results/` ุฑุง ุฏุงูููุฏ ฺฉูุฏ

## ุชุฎูู ุฒูุงู ุงุฌุฑุง

| Dataset | Model | Experiments | ุฒูุงู ุชูุฑุจ |
|---------|-------|-------------|-------------|
| MNIST | logistic | 60 | ~ฒ ุณุงุนุช |
| FashionMNIST | logistic | 60 | ~ฒ ุณุงุนุช |
| CIFAR10 | simple_cnn | 60 | ~ณ-ด ุณุงุนุช |
| **ุฌูุน** | | **ฑธฐ** | **~ถ-ธ ุณุงุนุช** |

## ูพุดุชุจุงู

ุงฺฏุฑ ูุดฺฉู ุฏุงุดุชุฏ:
1. ุฎุฑูุฌ ุฎุทุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ
2. GPU ุฑุง ฺฺฉ ฺฉูุฏ: `torch.cuda.is_available()`
3. ูุณุฑูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ
4. ููุชโุจูฺฉ ุฑุง Restart ฺฉูุฏ

---

**ูฺฉุชู:** ููุดู ูุชุงุฌ ุฑุง ุงุฒ Drive backup ุจฺฏุฑุฏ! ๐ฏ
